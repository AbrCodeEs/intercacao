---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

type Props = CollectionEntry<"template">["data"];

const { history } = Astro.props;
---

<section
  id="section-history"
  class="flex w-full flex-col gap-5 xl:px-50 lg:px-50 md:px-50 px-5 py-10"
>
  <h1 class="text-4xl font-bold text-neutral-600 uppercase">{history.title}</h1>
  <div class="flex xl:flex-row lg:flex-row md:flex-row flex-col w-full gap-8">
    <div class="flex-none xl:w-90 lg:w-90 md:w-90 w-full flex flex-col gap-5">
      {
        history.images.map((image, index) => (
          <div class="size-90 flex-none rounded-lg overflow-hidden relative group animate-trigger-right">
            <Image
              inferSize={true}
              src={image.src}
              alt={image.alt}
              class="object-fill object-center rounded-lg transform transition-all duration-500 ease-out group-hover:scale-105"
            />
          </div>
        ))
      }
    </div>

    <div class="flex-1 w-full flex flex-col gap-5">
      {
        history.content.map(({ text, type }) => {
          switch (type) {
            case "paragraph":
              return <p class="text-lg">{text}</p>;
            case "highlight":
              return (
                <p class="px-3 text-justify text-lg border-x border-black">
                  <i>
                    <b>{text}</b>
                  </i>
                </p>
              );
          }
        })
      }
    </div>
  </div>

  {
    history.paragraphs.map((paragraph, index) => (
      <p class="text-lg">{paragraph}</p>
    ))
  }
</section>
